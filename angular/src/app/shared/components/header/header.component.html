<header class="flex-none relative flex items-center justify-between px-6 py-1 border-b border-gray-800 bg-gray-950">
    <div class="flex items-center gap-4">
        <button (click)="toggleMenu(); $event.stopPropagation()"
            class="p-0 bg-transparent border-none hover:opacity-80 focus:outline-none">
            <img src="weather_15627895.png" alt="Menu" class="w-9 h-9" />
        </button>
        <div class="flex items-center gap-2 text-cyan-200 font-semibold text-2xl">
            <img src="ChatGPT_Image_23_oct_2025__13_32_07-removebg-preview (1).png" alt="GameSage Logo"
                class="w-14 h-14 object-cover rounded-xl" />
            <span>GameSage</span>
        </div>
    </div>

    <div
        class="absolute left-1/2 transform -translate-x-1/2 flex items-center gap-2 bg-gray-800 px-4 py-2 w-1/4 border border-white rounded-full">
        <img src="png-transparent-circle-font-icon-free-search-white-line-search-removebg-preview.png" alt="Search"
            class="w-7 h-6" />
        <input type="text" [placeholder]="'searchPlaceholder' | translate"
            class="bg-transparent outline-none text-white border-none px-0 py-0 w-full" />
    </div>

<div class="flex items-center gap-4 text-2xl">
        <div class="relative">
            <button (click)="toggleLangMenu(); $event.stopPropagation()"
                class="p-0 bg-transparent border-none hover:opacity-80 focus:outline-none flex items-center">
                <img [src]="currentFlag" alt="Language" class="w-9 h-9 cursor-pointer" />
            </button>
            <div *ngIf="isLangMenuOpen"
                class="absolute top-full left-1/2 -translate-x-1/2 mt-2 min-w-[3rem] rounded-md shadow-xl overflow-hidden z-50 border border-gray-800"
                style="background-color: #030712;">
                <div class="flex flex-col items-center py-1">
                    <button *ngFor="let lang of languages" (click)="setLanguage(lang.code)"
                        class="p-1.5 hover:bg-gray-800 w-full flex justify-center transition-colors bg-transparent border-none"
                        [title]="lang.name">
                        <img [src]="lang.flag" [alt]="lang.name" class="w-6 h-6 rounded-sm" />
                    </button>
                </div>
            </div>
        </div>

        <button class="p-0 bg-transparent border-none hover:opacity-80 focus:outline-none">
            <a routerLink="/aichat">
                <img src="Captura_de_pantalla_2025-11-14_132810_-_Editada__1_-removebg-preview.png" alt="AI Chat"
                    class="w-9 h-9 cursor-pointer" />
            </a>
        </button>
        <button class="p-0 bg-transparent border-none hover:opacity-80 focus:outline-none">
            <a routerLink="/favourites">
                <img src="shape_14755023-removebg-preview.png" alt="Favourites" class="w-9 h-9 cursor-pointer" />
            </a>
        </button>

        <button class="p-0 bg-transparent border-none hover:opacity-80 focus:outline-none">
            <a routerLink="/cart">
                <img src="internet_14812086-removebg-preview.png" alt="Shopping cart" class="w-9 h-9 cursor-pointer" />
            </a>
        </button>

        <button class="p-0 bg-transparent border-none hover:opacity-80 focus:outline-none">
            <a routerLink="/login">
                <img src="social_14821347-removebg-preview.png " alt="user profile" class="w-9 h-9" />
            </a>
        </button>
    </div>
</header>

<div #menu
    class="fixed top-0 left-0 h-full w-64 bg-gray-800 text-white transform transition-transform duration-300 z-50"
    [class.-translate-x-full]="!isMenuOpen" [class.translate-x-0]="isMenuOpen">
    <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">{{ 'menu' | translate }}</h2>
        <a routerLink="" class="text-white no-underline">{{ 'home' | translate }}</a><br /><br />
        <a routerLink="/settings" class="text-white no-underline">{{ 'settings' | translate }}</a><br /><br />
        <a routerLink="/help" class="text-white no-underline">{{ 'help' | translate }}</a><br /><br />
        <a routerLink="/contact" class="text-white no-underline">{{ 'contact' | translate }}</a><br /><br />
        <a routerLink="/privacy" class="text-white no-underline">{{ 'privacy' | translate }}</a><br /><br />
        <a routerLink="/conditions" class="text-white no-underline">{{ 'conditions' | translate }}</a><br /><br />
        <a routerLink="/cookies" class="text-white no-underline">{{ 'cookies' | translate }}</a>
    </div>
</div>