<div class="relative">
  <div class="flex items-center gap-1">
    <button (click)="toggleLangMenu(); $event.stopPropagation()"
      class="p-0 bg-transparent border-none outline-none hover:opacity-80 focus:outline-none cursor-pointer">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white transition-transform duration-300"
        [class.rotate-180]="isLangMenuOpen" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
      </svg>
    </button>
    <img [src]="currentFlag" alt="Language" class="w-9 h-9" />
  </div>
  <div *ngIf="isLangMenuOpen"
    class="absolute top-full left-1/2 -translate-x-1/2 mt-2 min-w-[3rem] rounded-md shadow-xl overflow-hidden z-50 border-gray-800 animate-slideDown"
    style="background-color: #030712">
    <div class="flex flex-col items-center py-1">
      <button *ngFor="let lang of languages" (click)="setLanguage(lang.code)"
        class="p-1.5 hover:bg-gray-800 w-full flex justify-center transition-colors bg-transparent border-none"
        [title]="lang.name">
        <img [src]="lang.flag" [alt]="lang.name" class="w-6 h-6 rounded-sm" />
      </button>
    </div>
  </div>
</div>